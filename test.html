<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Clascity</title>

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src='http://maps.google.com/maps/api/js?sensor=false&libraries=places'></script>

    <script src="./locationpicker.jquery.js"></script>

    <body>
      <div id="us9" style="width: 500px; height: 400px;"></div>
      <div>
        Street: <input id="us9-street1"/>
      </div>
      <div>
        City: <input id="us9-city"/>
      </div>
      <div>
        State: <input id="us9-state"/>
      </div>
      <div>
        Zip: <input id="us9-zip"/>
      </div>
      <div>
        Country: <input id="us9-country"/>
      </div>
  </body>

<script>
function updateControls(addressComponents) {
  console.log('!!!!!! ', addressComponents);
    $('#us9-street1').val(addressComponents.addressLine1);
    $('#us9-city').val(addressComponents.city);
    $('#us9-state').val(addressComponents.stateOrProvince);
    $('#us9-zip').val(addressComponents.postalCode);
    $('#us9-country').val(addressComponents.country);
}
$('#us9').locationpicker({
    location: {
        latitude: 42.00,
        longitude: -73.82480799999996
    },
    radius: 300,
    onchanged: function (currentLocation, radius, isMarkerDropped) {
        var addressComponents = $(this).locationpicker('map').location.addressComponents;
        updateControls(addressComponents);
    },
    oninitialized: function(component) {
        var addressComponents = $(component).locationpicker('map').location.addressComponents;
        updateControls(addressComponents);
    }
});

</script>

</html>
